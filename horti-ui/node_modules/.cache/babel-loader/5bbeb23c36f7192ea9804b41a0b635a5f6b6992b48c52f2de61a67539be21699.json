{"ast":null,"code":"var _jsxFileName = \"/home/filken/dev/horti_clj/horti-ui/src/components/GardenCanvas.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext, useRef } from 'react';\nimport { Box, Paper, Typography, Button, Dialog, DialogTitle, DialogContent, DialogActions, TextField, Grid, FormControl, InputLabel, Select, MenuItem, Fab, Chip, Alert } from '@mui/material';\nimport { Add as AddIcon, Analytics as MetricsIcon } from '@mui/icons-material';\nimport { UserContext } from '../contexts/UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GardenCanvas = () => {\n  _s();\n  const canvasRef = useRef(null);\n  const [plants, setPlants] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedPlant, setSelectedPlant] = useState(null);\n  const [showAddPlant, setShowAddPlant] = useState(false);\n  const [showMetrics, setShowMetrics] = useState(false);\n  const [canvasSize] = useState({\n    width: 800,\n    height: 600\n  });\n  const [newPlant, setNewPlant] = useState({\n    name: '',\n    species: '',\n    imageUrl: '',\n    x: 0,\n    y: 0\n  });\n  const [newMetrics, setNewMetrics] = useState({\n    date: new Date().toISOString().split('T')[0],\n    ec: '',\n    ph: '',\n    temperature: '',\n    humidity: '',\n    notes: ''\n  });\n  const {\n    token\n  } = useContext(UserContext);\n  const defaultPlantImages = [{\n    name: 'Tomato',\n    url: 'https://via.placeholder.com/50x50/4caf50/ffffff?text=ðŸ…'\n  }, {\n    name: 'Lettuce',\n    url: 'https://via.placeholder.com/50x50/66bb6a/ffffff?text=ðŸ¥¬'\n  }, {\n    name: 'Basil',\n    url: 'https://via.placeholder.com/50x50/8bc34a/ffffff?text=ðŸŒ¿'\n  }, {\n    name: 'Pepper',\n    url: 'https://via.placeholder.com/50x50/ff7043/ffffff?text=ðŸŒ¶ï¸'\n  }, {\n    name: 'Spinach',\n    url: 'https://via.placeholder.com/50x50/4caf50/ffffff?text=ðŸ¥¬'\n  }];\n  const fetchPlants = async () => {\n    try {\n      const response = await fetch('/api/plants', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setPlants(data);\n      } else {\n        setError('Failed to fetch plants');\n      }\n    } catch (err) {\n      setError('Error connecting to server');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (token) {\n      fetchPlants();\n    }\n  }, [token]);\n  useEffect(() => {\n    if (!loading) {\n      drawCanvas();\n    }\n  }, [plants, loading]);\n  const drawCanvas = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n\n    // Clear canvas\n    ctx.fillStyle = '#f1f8e9';\n    ctx.fillRect(0, 0, canvasSize.width, canvasSize.height);\n\n    // Draw grid\n    ctx.strokeStyle = '#e0e0e0';\n    ctx.lineWidth = 1;\n    for (let x = 0; x <= canvasSize.width; x += 50) {\n      ctx.beginPath();\n      ctx.moveTo(x, 0);\n      ctx.lineTo(x, canvasSize.height);\n      ctx.stroke();\n    }\n    for (let y = 0; y <= canvasSize.height; y += 50) {\n      ctx.beginPath();\n      ctx.moveTo(0, y);\n      ctx.lineTo(canvasSize.width, y);\n      ctx.stroke();\n    }\n\n    // Draw plants\n    plants.forEach(plant => {\n      if (plant.x !== undefined && plant.y !== undefined) {\n        // Draw plant circle\n        ctx.fillStyle = (selectedPlant === null || selectedPlant === void 0 ? void 0 : selectedPlant.id) === plant.id ? '#ff9800' : '#4caf50';\n        ctx.beginPath();\n        ctx.arc(plant.x, plant.y, 25, 0, 2 * Math.PI);\n        ctx.fill();\n\n        // Draw plant name\n        ctx.fillStyle = '#ffffff';\n        ctx.font = '12px Arial';\n        ctx.textAlign = 'center';\n        ctx.fillText(plant.name, plant.x, plant.y + 4);\n      }\n    });\n  };\n  const handleCanvasClick = event => {\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    // Check if clicked on a plant\n    const clickedPlant = plants.find(plant => {\n      const distance = Math.sqrt((x - plant.x) ** 2 + (y - plant.y) ** 2);\n      return distance <= 25;\n    });\n    if (clickedPlant) {\n      setSelectedPlant(clickedPlant);\n      setShowMetrics(true);\n    } else {\n      // Add new plant at clicked position\n      setNewPlant(prev => ({\n        ...prev,\n        x,\n        y\n      }));\n      setShowAddPlant(true);\n    }\n  };\n  const handleAddPlant = async () => {\n    try {\n      const response = await fetch('/api/plants', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          name: newPlant.name,\n          species: newPlant.species,\n          x: newPlant.x,\n          y: newPlant.y,\n          'image-url': newPlant.imageUrl,\n          'planting-date': new Date().toISOString().split('T')[0]\n        })\n      });\n      if (response.ok) {\n        setShowAddPlant(false);\n        setNewPlant({\n          name: '',\n          species: '',\n          imageUrl: '',\n          x: 0,\n          y: 0\n        });\n        fetchPlants();\n      } else {\n        setError('Failed to add plant');\n      }\n    } catch (err) {\n      setError('Error adding plant');\n    }\n  };\n  const handleAddMetrics = async () => {\n    if (!selectedPlant) return;\n    try {\n      const response = await fetch(`/api/plants/${selectedPlant.id}/metrics`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          'plant-id': selectedPlant.id,\n          date: newMetrics.date,\n          ec: parseFloat(newMetrics.ec) || null,\n          ph: parseFloat(newMetrics.ph) || null,\n          temperature: parseFloat(newMetrics.temperature) || null,\n          humidity: parseFloat(newMetrics.humidity) || null,\n          notes: newMetrics.notes\n        })\n      });\n      if (response.ok) {\n        setShowMetrics(false);\n        setNewMetrics({\n          date: new Date().toISOString().split('T')[0],\n          ec: '',\n          ph: '',\n          temperature: '',\n          humidity: '',\n          notes: ''\n        });\n        setSelectedPlant(null);\n      } else {\n        setError('Failed to add metrics');\n      }\n    } catch (err) {\n      setError('Error adding metrics');\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(Typography, {\n    children: \"Loading garden...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 1,\n      sx: {\n        p: 3,\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        gutterBottom: true,\n        sx: {\n          color: 'primary.dark'\n        },\n        children: \"\\uD83C\\uDF31 Interactive Garden Canvas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        color: \"textSecondary\",\n        children: \"Click anywhere to add a plant, or click on existing plants to log daily metrics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Chip, {\n          label: \"\\uD83D\\uDCA1 Tip: Click empty space to add plants\",\n          variant: \"outlined\",\n          sx: {\n            mr: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Chip, {\n          label: \"\\uD83D\\uDCCA Click plants to log EC, pH, temp, humidity\",\n          variant: \"outlined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 2,\n      sx: {\n        p: 2,\n        display: 'inline-block'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: canvasSize.width,\n        height: canvasSize.height,\n        onClick: handleCanvasClick,\n        style: {\n          border: '2px solid #4caf50',\n          borderRadius: '8px',\n          cursor: 'crosshair',\n          backgroundColor: '#f1f8e9'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showAddPlant,\n      onClose: () => setShowAddPlant(false),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: [\"Add Plant at (\", Math.round(newPlant.x), \", \", Math.round(newPlant.y), \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          label: \"Plant Name\",\n          fullWidth: true,\n          variant: \"outlined\",\n          value: newPlant.name,\n          onChange: e => setNewPlant({\n            ...newPlant,\n            name: e.target.value\n          }),\n          sx: {\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          margin: \"dense\",\n          label: \"Species\",\n          fullWidth: true,\n          variant: \"outlined\",\n          value: newPlant.species,\n          onChange: e => setNewPlant({\n            ...newPlant,\n            species: e.target.value\n          }),\n          sx: {\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          margin: \"dense\",\n          sx: {\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"Plant Type (optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: newPlant.imageUrl,\n            onChange: e => setNewPlant({\n              ...newPlant,\n              imageUrl: e.target.value\n            }),\n            children: defaultPlantImages.map((img, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: img.url,\n              children: img.name\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setShowAddPlant(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleAddPlant,\n          variant: \"contained\",\n          children: \"Add Plant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showMetrics,\n      onClose: () => setShowMetrics(false),\n      maxWidth: \"md\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: [\"Log Daily Metrics - \", selectedPlant === null || selectedPlant === void 0 ? void 0 : selectedPlant.name, /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"textSecondary\",\n          children: [\"Position: (\", selectedPlant === null || selectedPlant === void 0 ? void 0 : selectedPlant.x, \", \", selectedPlant === null || selectedPlant === void 0 ? void 0 : selectedPlant.y, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              margin: \"dense\",\n              label: \"Date\",\n              type: \"date\",\n              fullWidth: true,\n              variant: \"outlined\",\n              InputLabelProps: {\n                shrink: true\n              },\n              value: newMetrics.date,\n              onChange: e => setNewMetrics({\n                ...newMetrics,\n                date: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              margin: \"dense\",\n              label: \"EC (Electrical Conductivity)\",\n              fullWidth: true,\n              variant: \"outlined\",\n              placeholder: \"e.g., 1.2\",\n              value: newMetrics.ec,\n              onChange: e => setNewMetrics({\n                ...newMetrics,\n                ec: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              margin: \"dense\",\n              label: \"pH Level\",\n              fullWidth: true,\n              variant: \"outlined\",\n              placeholder: \"e.g., 6.5\",\n              value: newMetrics.ph,\n              onChange: e => setNewMetrics({\n                ...newMetrics,\n                ph: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              margin: \"dense\",\n              label: \"Temperature (\\xB0C)\",\n              fullWidth: true,\n              variant: \"outlined\",\n              placeholder: \"e.g., 24\",\n              value: newMetrics.temperature,\n              onChange: e => setNewMetrics({\n                ...newMetrics,\n                temperature: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              margin: \"dense\",\n              label: \"Humidity (%)\",\n              fullWidth: true,\n              variant: \"outlined\",\n              placeholder: \"e.g., 65\",\n              value: newMetrics.humidity,\n              onChange: e => setNewMetrics({\n                ...newMetrics,\n                humidity: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              margin: \"dense\",\n              label: \"Notes\",\n              fullWidth: true,\n              multiline: true,\n              rows: 3,\n              variant: \"outlined\",\n              placeholder: \"Any observations about the plant today...\",\n              value: newMetrics.notes,\n              onChange: e => setNewMetrics({\n                ...newMetrics,\n                notes: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setShowMetrics(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleAddMetrics,\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(MetricsIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 77\n          }, this),\n          children: \"Log Metrics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 227,\n    columnNumber: 5\n  }, this);\n};\n_s(GardenCanvas, \"EkAV/2edxtZLb1NRi53PF6ioT8g=\");\n_c = GardenCanvas;\nexport default GardenCanvas;\nvar _c;\n$RefreshReg$(_c, \"GardenCanvas\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useRef","Box","Paper","Typography","Button","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Grid","FormControl","InputLabel","Select","MenuItem","Fab","Chip","Alert","Add","AddIcon","Analytics","MetricsIcon","UserContext","jsxDEV","_jsxDEV","GardenCanvas","_s","canvasRef","plants","setPlants","loading","setLoading","error","setError","selectedPlant","setSelectedPlant","showAddPlant","setShowAddPlant","showMetrics","setShowMetrics","canvasSize","width","height","newPlant","setNewPlant","name","species","imageUrl","x","y","newMetrics","setNewMetrics","date","Date","toISOString","split","ec","ph","temperature","humidity","notes","token","defaultPlantImages","url","fetchPlants","response","fetch","headers","ok","data","json","err","drawCanvas","canvas","current","ctx","getContext","fillStyle","fillRect","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","forEach","plant","undefined","id","arc","Math","PI","fill","font","textAlign","fillText","handleCanvasClick","event","rect","getBoundingClientRect","clientX","left","clientY","top","clickedPlant","find","distance","sqrt","prev","handleAddPlant","method","body","JSON","stringify","handleAddMetrics","parseFloat","children","fileName","_jsxFileName","lineNumber","columnNumber","elevation","sx","p","mb","variant","component","gutterBottom","color","mt","label","mr","severity","display","ref","onClick","style","border","borderRadius","cursor","backgroundColor","open","onClose","maxWidth","fullWidth","round","autoFocus","margin","value","onChange","e","target","map","img","index","container","spacing","item","xs","sm","type","InputLabelProps","shrink","placeholder","multiline","rows","startIcon","_c","$RefreshReg$"],"sources":["/home/filken/dev/horti_clj/horti-ui/src/components/GardenCanvas.js"],"sourcesContent":["import React, { useState, useEffect, useContext, useRef } from 'react';\nimport {\n  Box,\n  Paper,\n  Typography,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  Grid,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Fab,\n  Chip,\n  Alert,\n} from '@mui/material';\nimport { Add as AddIcon, Analytics as MetricsIcon } from '@mui/icons-material';\nimport { UserContext } from '../contexts/UserContext';\n\nconst GardenCanvas = () => {\n  const canvasRef = useRef(null);\n  const [plants, setPlants] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedPlant, setSelectedPlant] = useState(null);\n  const [showAddPlant, setShowAddPlant] = useState(false);\n  const [showMetrics, setShowMetrics] = useState(false);\n  const [canvasSize] = useState({ width: 800, height: 600 });\n  \n  const [newPlant, setNewPlant] = useState({\n    name: '',\n    species: '',\n    imageUrl: '',\n    x: 0,\n    y: 0\n  });\n\n  const [newMetrics, setNewMetrics] = useState({\n    date: new Date().toISOString().split('T')[0],\n    ec: '',\n    ph: '',\n    temperature: '',\n    humidity: '',\n    notes: ''\n  });\n\n  const { token } = useContext(UserContext);\n\n  const defaultPlantImages = [\n    { name: 'Tomato', url: 'https://via.placeholder.com/50x50/4caf50/ffffff?text=ðŸ…' },\n    { name: 'Lettuce', url: 'https://via.placeholder.com/50x50/66bb6a/ffffff?text=ðŸ¥¬' },\n    { name: 'Basil', url: 'https://via.placeholder.com/50x50/8bc34a/ffffff?text=ðŸŒ¿' },\n    { name: 'Pepper', url: 'https://via.placeholder.com/50x50/ff7043/ffffff?text=ðŸŒ¶ï¸' },\n    { name: 'Spinach', url: 'https://via.placeholder.com/50x50/4caf50/ffffff?text=ðŸ¥¬' },\n  ];\n\n  const fetchPlants = async () => {\n    try {\n      const response = await fetch('/api/plants', {\n        headers: { 'Authorization': `Bearer ${token}` },\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setPlants(data);\n      } else {\n        setError('Failed to fetch plants');\n      }\n    } catch (err) {\n      setError('Error connecting to server');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (token) {\n      fetchPlants();\n    }\n  }, [token]);\n\n  useEffect(() => {\n    if (!loading) {\n      drawCanvas();\n    }\n  }, [plants, loading]);\n\n  const drawCanvas = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    \n    // Clear canvas\n    ctx.fillStyle = '#f1f8e9';\n    ctx.fillRect(0, 0, canvasSize.width, canvasSize.height);\n    \n    // Draw grid\n    ctx.strokeStyle = '#e0e0e0';\n    ctx.lineWidth = 1;\n    for (let x = 0; x <= canvasSize.width; x += 50) {\n      ctx.beginPath();\n      ctx.moveTo(x, 0);\n      ctx.lineTo(x, canvasSize.height);\n      ctx.stroke();\n    }\n    for (let y = 0; y <= canvasSize.height; y += 50) {\n      ctx.beginPath();\n      ctx.moveTo(0, y);\n      ctx.lineTo(canvasSize.width, y);\n      ctx.stroke();\n    }\n\n    // Draw plants\n    plants.forEach(plant => {\n      if (plant.x !== undefined && plant.y !== undefined) {\n        // Draw plant circle\n        ctx.fillStyle = selectedPlant?.id === plant.id ? '#ff9800' : '#4caf50';\n        ctx.beginPath();\n        ctx.arc(plant.x, plant.y, 25, 0, 2 * Math.PI);\n        ctx.fill();\n        \n        // Draw plant name\n        ctx.fillStyle = '#ffffff';\n        ctx.font = '12px Arial';\n        ctx.textAlign = 'center';\n        ctx.fillText(plant.name, plant.x, plant.y + 4);\n      }\n    });\n  };\n\n  const handleCanvasClick = (event) => {\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    // Check if clicked on a plant\n    const clickedPlant = plants.find(plant => {\n      const distance = Math.sqrt((x - plant.x) ** 2 + (y - plant.y) ** 2);\n      return distance <= 25;\n    });\n\n    if (clickedPlant) {\n      setSelectedPlant(clickedPlant);\n      setShowMetrics(true);\n    } else {\n      // Add new plant at clicked position\n      setNewPlant(prev => ({ ...prev, x, y }));\n      setShowAddPlant(true);\n    }\n  };\n\n  const handleAddPlant = async () => {\n    try {\n      const response = await fetch('/api/plants', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          name: newPlant.name,\n          species: newPlant.species,\n          x: newPlant.x,\n          y: newPlant.y,\n          'image-url': newPlant.imageUrl,\n          'planting-date': new Date().toISOString().split('T')[0]\n        }),\n      });\n\n      if (response.ok) {\n        setShowAddPlant(false);\n        setNewPlant({ name: '', species: '', imageUrl: '', x: 0, y: 0 });\n        fetchPlants();\n      } else {\n        setError('Failed to add plant');\n      }\n    } catch (err) {\n      setError('Error adding plant');\n    }\n  };\n\n  const handleAddMetrics = async () => {\n    if (!selectedPlant) return;\n\n    try {\n      const response = await fetch(`/api/plants/${selectedPlant.id}/metrics`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          'plant-id': selectedPlant.id,\n          date: newMetrics.date,\n          ec: parseFloat(newMetrics.ec) || null,\n          ph: parseFloat(newMetrics.ph) || null,\n          temperature: parseFloat(newMetrics.temperature) || null,\n          humidity: parseFloat(newMetrics.humidity) || null,\n          notes: newMetrics.notes\n        }),\n      });\n\n      if (response.ok) {\n        setShowMetrics(false);\n        setNewMetrics({\n          date: new Date().toISOString().split('T')[0],\n          ec: '', ph: '', temperature: '', humidity: '', notes: ''\n        });\n        setSelectedPlant(null);\n      } else {\n        setError('Failed to add metrics');\n      }\n    } catch (err) {\n      setError('Error adding metrics');\n    }\n  };\n\n  if (loading) return <Typography>Loading garden...</Typography>;\n\n  return (\n    <Box>\n      <Paper elevation={1} sx={{ p: 3, mb: 4 }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom sx={{ color: 'primary.dark' }}>\n          ðŸŒ± Interactive Garden Canvas\n        </Typography>\n        <Typography variant=\"body1\" color=\"textSecondary\">\n          Click anywhere to add a plant, or click on existing plants to log daily metrics\n        </Typography>\n        <Box sx={{ mt: 2 }}>\n          <Chip label=\"ðŸ’¡ Tip: Click empty space to add plants\" variant=\"outlined\" sx={{ mr: 1 }} />\n          <Chip label=\"ðŸ“Š Click plants to log EC, pH, temp, humidity\" variant=\"outlined\" />\n        </Box>\n      </Paper>\n\n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\n          {error}\n        </Alert>\n      )}\n\n      <Paper elevation={2} sx={{ p: 2, display: 'inline-block' }}>\n        <canvas\n          ref={canvasRef}\n          width={canvasSize.width}\n          height={canvasSize.height}\n          onClick={handleCanvasClick}\n          style={{\n            border: '2px solid #4caf50',\n            borderRadius: '8px',\n            cursor: 'crosshair',\n            backgroundColor: '#f1f8e9'\n          }}\n        />\n      </Paper>\n\n      {/* Add Plant Dialog */}\n      <Dialog open={showAddPlant} onClose={() => setShowAddPlant(false)} maxWidth=\"sm\" fullWidth>\n        <DialogTitle>Add Plant at ({Math.round(newPlant.x)}, {Math.round(newPlant.y)})</DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Plant Name\"\n            fullWidth\n            variant=\"outlined\"\n            value={newPlant.name}\n            onChange={(e) => setNewPlant({ ...newPlant, name: e.target.value })}\n            sx={{ mb: 2 }}\n          />\n          <TextField\n            margin=\"dense\"\n            label=\"Species\"\n            fullWidth\n            variant=\"outlined\"\n            value={newPlant.species}\n            onChange={(e) => setNewPlant({ ...newPlant, species: e.target.value })}\n            sx={{ mb: 2 }}\n          />\n          <FormControl fullWidth margin=\"dense\" sx={{ mb: 2 }}>\n            <InputLabel>Plant Type (optional)</InputLabel>\n            <Select\n              value={newPlant.imageUrl}\n              onChange={(e) => setNewPlant({ ...newPlant, imageUrl: e.target.value })}\n            >\n              {defaultPlantImages.map((img, index) => (\n                <MenuItem key={index} value={img.url}>\n                  {img.name}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setShowAddPlant(false)}>Cancel</Button>\n          <Button onClick={handleAddPlant} variant=\"contained\">Add Plant</Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Daily Metrics Dialog */}\n      <Dialog open={showMetrics} onClose={() => setShowMetrics(false)} maxWidth=\"md\" fullWidth>\n        <DialogTitle>\n          Log Daily Metrics - {selectedPlant?.name}\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            Position: ({selectedPlant?.x}, {selectedPlant?.y})\n          </Typography>\n        </DialogTitle>\n        <DialogContent>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                margin=\"dense\"\n                label=\"Date\"\n                type=\"date\"\n                fullWidth\n                variant=\"outlined\"\n                InputLabelProps={{ shrink: true }}\n                value={newMetrics.date}\n                onChange={(e) => setNewMetrics({ ...newMetrics, date: e.target.value })}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                margin=\"dense\"\n                label=\"EC (Electrical Conductivity)\"\n                fullWidth\n                variant=\"outlined\"\n                placeholder=\"e.g., 1.2\"\n                value={newMetrics.ec}\n                onChange={(e) => setNewMetrics({ ...newMetrics, ec: e.target.value })}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                margin=\"dense\"\n                label=\"pH Level\"\n                fullWidth\n                variant=\"outlined\"\n                placeholder=\"e.g., 6.5\"\n                value={newMetrics.ph}\n                onChange={(e) => setNewMetrics({ ...newMetrics, ph: e.target.value })}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                margin=\"dense\"\n                label=\"Temperature (Â°C)\"\n                fullWidth\n                variant=\"outlined\"\n                placeholder=\"e.g., 24\"\n                value={newMetrics.temperature}\n                onChange={(e) => setNewMetrics({ ...newMetrics, temperature: e.target.value })}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                margin=\"dense\"\n                label=\"Humidity (%)\"\n                fullWidth\n                variant=\"outlined\"\n                placeholder=\"e.g., 65\"\n                value={newMetrics.humidity}\n                onChange={(e) => setNewMetrics({ ...newMetrics, humidity: e.target.value })}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                margin=\"dense\"\n                label=\"Notes\"\n                fullWidth\n                multiline\n                rows={3}\n                variant=\"outlined\"\n                placeholder=\"Any observations about the plant today...\"\n                value={newMetrics.notes}\n                onChange={(e) => setNewMetrics({ ...newMetrics, notes: e.target.value })}\n              />\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setShowMetrics(false)}>Cancel</Button>\n          <Button onClick={handleAddMetrics} variant=\"contained\" startIcon={<MetricsIcon />}>\n            Log Metrics\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default GardenCanvas; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}