{"ast":null,"code":"'use client';\n\nimport { useState } from 'react';\nimport { useIsomorphicEffect } from '../use-isomorphic-effect/use-isomorphic-effect.mjs';\nfunction getInitialValue(initialValue, getInitialValueInEffect) {\n  if (getInitialValueInEffect) {\n    return initialValue;\n  }\n  if (typeof window !== \"undefined\" && \"screen\" in window) {\n    return {\n      angle: window.screen.orientation?.angle ?? initialValue.angle,\n      type: window.screen.orientation?.type ?? initialValue.type\n    };\n  }\n  return initialValue;\n}\nfunction useOrientation({\n  defaultAngle = 0,\n  defaultType = \"landscape-primary\",\n  getInitialValueInEffect = true\n} = {}) {\n  const [orientation, setOrientation] = useState(getInitialValue({\n    angle: defaultAngle,\n    type: defaultType\n  }, getInitialValueInEffect));\n  const handleOrientationChange = event => {\n    const target = event.currentTarget;\n    setOrientation({\n      angle: target?.angle || 0,\n      type: target?.type || \"landscape-primary\"\n    });\n  };\n  useIsomorphicEffect(() => {\n    window.screen.orientation?.addEventListener(\"change\", handleOrientationChange);\n    return () => window.screen.orientation?.removeEventListener(\"change\", handleOrientationChange);\n  }, []);\n  return orientation;\n}\nexport { useOrientation };","map":{"version":3,"names":["getInitialValue","initialValue","getInitialValueInEffect","window","angle","screen","orientation","type","useOrientation","defaultAngle","defaultType","setOrientation","useState","handleOrientationChange","event","target","currentTarget","useIsomorphicEffect","addEventListener","removeEventListener"],"sources":["/home/filken/dev/horti_clj/horti-ui/node_modules/@mantine/hooks/src/use-orientation/use-orientation.ts"],"sourcesContent":["import { useState } from 'react';\nimport { useIsomorphicEffect } from '../use-isomorphic-effect/use-isomorphic-effect';\n\ninterface UseOrientationOptions {\n  /** Default angle value, used until the real can be retrieved\n   * (during server side rendering and before js executes on the page)\n   * If not provided, the default value is `0`\n   * */\n  defaultAngle?: number;\n\n  /** Default angle value, used until the real can be retrieved\n   * (during server side rendering and before js executes on the page)\n   * If not provided, the default value is `'landscape-primary'`\n   * */\n  defaultType?: OrientationType;\n\n  /** If true, the initial value will be resolved in useEffect (ssr safe)\n   *  If false, the initial value will be resolved in useLayoutEffect (ssr unsafe)\n   *  True by default.\n   */\n  getInitialValueInEffect?: boolean;\n}\n\ninterface UseOrientationReturnType {\n  angle: number;\n  type: OrientationType;\n}\n\nfunction getInitialValue(\n  initialValue: UseOrientationReturnType,\n  getInitialValueInEffect: boolean\n): UseOrientationReturnType {\n  if (getInitialValueInEffect) {\n    return initialValue;\n  }\n\n  if (typeof window !== 'undefined' && 'screen' in window) {\n    return {\n      angle: window.screen.orientation?.angle ?? initialValue.angle,\n      type: window.screen.orientation?.type ?? initialValue.type,\n    };\n  }\n\n  return initialValue;\n}\n\nexport function useOrientation({\n  defaultAngle = 0,\n  defaultType = 'landscape-primary',\n  getInitialValueInEffect = true,\n}: UseOrientationOptions = {}): UseOrientationReturnType {\n  const [orientation, setOrientation] = useState<UseOrientationReturnType>(\n    getInitialValue(\n      {\n        angle: defaultAngle,\n        type: defaultType,\n      },\n      getInitialValueInEffect\n    )\n  );\n\n  const handleOrientationChange = (event: Event) => {\n    const target = event.currentTarget as ScreenOrientation;\n    setOrientation({ angle: target?.angle || 0, type: target?.type || 'landscape-primary' });\n  };\n\n  useIsomorphicEffect(() => {\n    window.screen.orientation?.addEventListener('change', handleOrientationChange);\n    return () => window.screen.orientation?.removeEventListener('change', handleOrientationChange);\n  }, []);\n\n  return orientation;\n}\n"],"mappings":";;;;AA4BA,SAASA,gBACPC,YAAA,EACAC,uBAC0B;EAC1B,IAAIA,uBAAyB;IACpB,OAAAD,YAAA;EAAA;EAGT,IAAI,OAAOE,MAAA,KAAW,WAAe,gBAAYA,MAAQ;IAChD;MACLC,KAAO,EAAAD,MAAA,CAAOE,MAAO,CAAAC,WAAA,EAAaF,KAAA,IAASH,YAAa,CAAAG,KAAA;MACxDG,IAAM,EAAAJ,MAAA,CAAOE,MAAO,CAAAC,WAAA,EAAaC,IAAA,IAAQN,YAAa,CAAAM;IACxD;EAAA;EAGK,OAAAN,YAAA;AACT;AAEO,SAASO,cAAeA,CAAA;EAC7BC,YAAe;EACfC,WAAc;EACdR,uBAA0B;AAC5B,IAA2B,EAA8B;EACjD,OAACI,WAAa,EAAAK,cAAc,CAAI,GAAAC,QAAA,CACpCZ,eAAA,CACE;IACEI,KAAO,EAAAK,YAAA;IACPF,IAAM,EAAAG;EACR,GACAR,uBAAA,CAEJ;EAEM,MAAAW,uBAAA,GAA2BC,KAAiB;IAChD,MAAMC,MAAA,GAASD,KAAM,CAAAE,aAAA;IACNL,cAAA;MAAEP,KAAA,EAAOW,MAAQ,EAAAX,KAAA,IAAS;MAAGG,IAAM,EAAAQ,MAAA,EAAQR,IAAQ;IAAA,CAAqB;EACzF;EAEAU,mBAAA,CAAoB,MAAM;IACxBd,MAAA,CAAOE,MAAO,CAAAC,WAAA,EAAaY,gBAAiB,WAAUL,uBAAuB;IAC7E,OAAO,MAAMV,MAAO,CAAAE,MAAA,CAAOC,WAAa,EAAAa,mBAAA,CAAoB,UAAUN,uBAAuB;EAC/F,GAAG,EAAE;EAEE,OAAAP,WAAA;AACT","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}