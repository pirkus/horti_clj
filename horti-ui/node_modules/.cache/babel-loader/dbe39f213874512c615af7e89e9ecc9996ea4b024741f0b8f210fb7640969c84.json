{"ast":null,"code":"'use client';\n\nimport { jsx } from 'react/jsx-runtime';\nimport { useRef, useEffect } from 'react';\nimport { ScrollArea } from '@mantine/core';\nimport { useTimePickerContext } from '../TimePicker.context.mjs';\nimport { TimeControl } from './TimeControl.mjs';\nfunction isElementVisibleInScrollContainer(element, container) {\n  if (!element || !container) {\n    return false;\n  }\n  const elementRect = element.getBoundingClientRect();\n  const containerRect = container.getBoundingClientRect();\n  const isVisible = elementRect.top >= containerRect.top && elementRect.bottom <= containerRect.bottom && elementRect.left >= containerRect.left && elementRect.right <= containerRect.right;\n  return isVisible;\n}\nfunction getValuesRange(min, max, step) {\n  const range = [];\n  for (let i = min; i <= max; i += step) {\n    range.push(i);\n  }\n  return range;\n}\nfunction TimeControlsList({\n  min,\n  max,\n  step,\n  value,\n  onSelect\n}) {\n  const ctx = useTimePickerContext();\n  const ref = useRef(null);\n  const range = getValuesRange(min, max, step);\n  const controls = range.map(control => /* @__PURE__ */jsx(TimeControl, {\n    value: control,\n    active: value === control,\n    onSelect\n  }, control));\n  useEffect(() => {\n    if (value !== null) {\n      const target = ref.current?.querySelector(`[data-value=\"${value}\"]`);\n      if (!isElementVisibleInScrollContainer(target, ref.current)) {\n        target?.scrollIntoView({\n          block: \"nearest\"\n        });\n      }\n    }\n  }, [value]);\n  return /* @__PURE__ */jsx(ScrollArea, {\n    h: ctx.maxDropdownContentHeight,\n    type: \"never\",\n    viewportRef: ref,\n    ...ctx.getStyles(\"scrollarea\"),\n    ...ctx.scrollAreaProps,\n    children: /* @__PURE__ */jsx(\"div\", {\n      ...ctx.getStyles(\"controlsList\"),\n      children: controls\n    })\n  });\n}\nTimeControlsList.displayName = \"@mantine/dates/TimeControlsList\";\nexport { TimeControlsList };","map":{"version":3,"names":["isElementVisibleInScrollContainer","element","container","elementRect","getBoundingClientRect","containerRect","isVisible","top","bottom","left","right","getValuesRange","min","max","step","range","i","push","TimeControlsList","value","onSelect","ctx","useTimePickerContext","ref","useRef","controls","map","control","jsx","TimeControl","active","useEffect","target","current","querySelector","scrollIntoView","block","ScrollArea","h","maxDropdownContentHeight","type","viewportRef","getStyles","scrollAreaProps","children","displayName"],"sources":["/home/filken/dev/horti_clj/horti-ui/node_modules/@mantine/dates/src/components/TimePicker/TimeControlsList/TimeControlsList.tsx"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport { ScrollArea } from '@mantine/core';\nimport { useTimePickerContext } from '../TimePicker.context';\nimport { TimeControl } from './TimeControl';\n\nfunction isElementVisibleInScrollContainer(\n  element: HTMLElement | null | undefined,\n  container: HTMLElement | null | undefined\n) {\n  if (!element || !container) {\n    return false;\n  }\n\n  const elementRect = element.getBoundingClientRect();\n  const containerRect = container.getBoundingClientRect();\n\n  // Check if element is within container's visible bounds\n  const isVisible =\n    elementRect.top >= containerRect.top &&\n    elementRect.bottom <= containerRect.bottom &&\n    elementRect.left >= containerRect.left &&\n    elementRect.right <= containerRect.right;\n\n  return isVisible;\n}\n\nfunction getValuesRange(min: number, max: number, step: number) {\n  const range = [];\n  for (let i = min; i <= max; i += step) {\n    range.push(i);\n  }\n  return range;\n}\n\ninterface TimeControlsListProps {\n  min: number;\n  max: number;\n  step: number;\n  value: number | null;\n  onSelect: (value: number) => void;\n}\n\nexport function TimeControlsList({ min, max, step, value, onSelect }: TimeControlsListProps) {\n  const ctx = useTimePickerContext();\n  const ref = useRef<HTMLDivElement>(null);\n  const range = getValuesRange(min, max, step);\n  const controls = range.map((control) => (\n    <TimeControl key={control} value={control} active={value === control} onSelect={onSelect} />\n  ));\n\n  useEffect(() => {\n    if (value !== null) {\n      const target = ref.current?.querySelector<HTMLButtonElement>(`[data-value=\"${value}\"]`);\n      if (!isElementVisibleInScrollContainer(target, ref.current)) {\n        target?.scrollIntoView({ block: 'nearest' });\n      }\n    }\n  }, [value]);\n\n  return (\n    <ScrollArea\n      h={ctx.maxDropdownContentHeight}\n      type=\"never\"\n      viewportRef={ref}\n      {...ctx.getStyles('scrollarea')}\n      {...ctx.scrollAreaProps}\n    >\n      <div {...ctx.getStyles('controlsList')}>{controls}</div>\n    </ScrollArea>\n  );\n}\n\nTimeControlsList.displayName = '@mantine/dates/TimeControlsList';\n"],"mappings":";;;;;;;AAKA,SAASA,kCACPC,OAAA,EACAC,SACA;EACI,KAACD,OAAW,KAACC,SAAW;IACnB;EAAA;EAGH,MAAAC,WAAA,GAAcF,OAAA,CAAQG,qBAAsB;EAC5C,MAAAC,aAAA,GAAgBH,SAAA,CAAUE,qBAAsB;EAGtD,MAAME,SACJ,GAAAH,WAAA,CAAYI,GAAO,IAAAF,aAAA,CAAcE,GAAA,IACjCJ,WAAY,CAAAK,MAAA,IAAUH,aAAc,CAAAG,MAAA,IACpCL,WAAA,CAAYM,IAAQ,IAAAJ,aAAA,CAAcI,IAClC,IAAAN,WAAA,CAAYO,KAAA,IAASL,aAAc,CAAAK,KAAA;EAE9B,OAAAJ,SAAA;AACT;AAEA,SAASK,eAAeC,GAAa,EAAAC,GAAA,EAAaC,IAAc;EAC9D,MAAMC,KAAA,GAAQ,EAAC;EACf,SAASC,CAAI,GAAAJ,GAAA,EAAKI,CAAK,IAAAH,GAAA,EAAKG,CAAA,IAAKF,IAAM;IACrCC,KAAA,CAAME,IAAA,CAAKD,CAAC;EAAA;EAEP,OAAAD,KAAA;AACT;AAUO,SAASG,iBAAiB;EAAEN,GAAA;EAAKC,GAAA;EAAKC,IAAM;EAAAK,KAAA;EAAOC;AAAA,CAAmC;EAC3F,MAAMC,GAAA,GAAMC,oBAAqB;EAC3B,MAAAC,GAAA,GAAMC,MAAA,CAAuB,IAAI;EACvC,MAAMT,KAAQ,GAAAJ,cAAA,CAAeC,GAAK,EAAAC,GAAA,EAAKC,IAAI;EAC3C,MAAMW,QAAW,GAAAV,KAAA,CAAMW,GAAI,CAACC,OAAA,mBACzBC,GAAA,CAAAC,WAAA;IAA0BV,KAAO,EAAAQ,OAAA;IAASG,MAAQ,EAAAX,KAAA,KAAUQ,OAAS;IAAAP;EAAA,GAApDO,OAAwE,CAC3F;EAEDI,SAAA,CAAU,MAAM;IACd,IAAIZ,KAAA,KAAU,IAAM;MAClB,MAAMa,MAAA,GAAST,GAAI,CAAAU,OAAA,EAASC,aAAiC,iBAAgBf,KAAK,IAAI;MACtF,IAAI,CAACnB,iCAAA,CAAkCgC,MAAQ,EAAAT,GAAA,CAAIU,OAAO,CAAG;QAC3DD,MAAA,EAAQG,cAAe;UAAEC,KAAO;QAAA,CAAW;MAAA;IAC7C;EACF,CACF,EAAG,CAACjB,KAAK,CAAC;EAGR,sBAAAS,GAAA,CAACS,UAAA;IACCC,CAAA,EAAGjB,GAAI,CAAAkB,wBAAA;IACPC,IAAK;IACLC,WAAa,EAAAlB,GAAA;IACZ,GAAGF,GAAI,CAAAqB,SAAA,CAAU,YAAY;IAC7B,GAAGrB,GAAI,CAAAsB,eAAA;IAERC,QAAA,iBAAAhB,GAAA,CAAC,KAAK;MAAA,GAAGP,GAAA,CAAIqB,SAAU,eAAc;MAAIE,QAAS,EAAAnB;IAAA;EAAA,CACpD;AAEJ;AAEAP,gBAAA,CAAiB2B,WAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}