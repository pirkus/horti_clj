{"ast":null,"code":"'use client';\n\nimport { jsx } from 'react/jsx-runtime';\nimport { useId, useDisclosure } from '@mantine/hooks';\nimport 'react';\nimport 'clsx';\nimport '../../../core/MantineProvider/Mantine.context.mjs';\nimport '../../../core/MantineProvider/default-theme.mjs';\nimport '../../../core/MantineProvider/MantineProvider.mjs';\nimport '../../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../../core/Box/Box.mjs';\nimport '../../../core/DirectionProvider/DirectionProvider.mjs';\nimport { useDelayedHover } from '../../Floating/use-delayed-hover.mjs';\nimport '@floating-ui/react';\nimport '../../Floating/FloatingArrow/FloatingArrow.mjs';\nimport { Popover } from '../../Popover/Popover.mjs';\nimport '../../Popover/PopoverDropdown/PopoverDropdown.mjs';\nimport '../../Popover/PopoverTarget/PopoverTarget.mjs';\nimport { MenuSubDropdown } from '../MenuSubDropdown/MenuSubDropdown.mjs';\nimport { MenuSubItem } from '../MenuSubItem/MenuSubItem.mjs';\nimport { MenuSubTarget } from '../MenuSubTarget/MenuSubTarget.mjs';\nimport { useSubMenuContext, SubMenuProvider } from './MenuSub.context.mjs';\nconst defaultProps = {\n  offset: 0,\n  position: \"right-start\",\n  transitionProps: {\n    duration: 0\n  }\n};\nfunction MenuSub(_props) {\n  const {\n    children,\n    closeDelay,\n    ...others\n  } = useProps(\"MenuSub\", defaultProps, _props);\n  const id = useId();\n  const [opened, {\n    open,\n    close\n  }] = useDisclosure(false);\n  const ctx = useSubMenuContext();\n  const {\n    openDropdown,\n    closeDropdown\n  } = useDelayedHover({\n    open,\n    close,\n    closeDelay,\n    openDelay: 0\n  });\n  const focusFirstItem = () => window.setTimeout(() => {\n    document.getElementById(`${id}-dropdown`)?.querySelectorAll(\"[data-menu-item]:not([data-disabled])\")[0]?.focus();\n  }, 16);\n  const focusParentItem = () => window.setTimeout(() => {\n    document.getElementById(`${id}-target`)?.focus();\n  }, 16);\n  return /* @__PURE__ */jsx(SubMenuProvider, {\n    value: {\n      opened,\n      close: closeDropdown,\n      open: openDropdown,\n      focusFirstItem,\n      focusParentItem,\n      parentContext: ctx\n    },\n    children: /* @__PURE__ */jsx(Popover, {\n      opened,\n      ...others,\n      withinPortal: false,\n      id,\n      children\n    })\n  });\n}\nMenuSub.extend = input => input;\nMenuSub.displayName = \"@mantine/core/MenuSub\";\nMenuSub.Target = MenuSubTarget;\nMenuSub.Dropdown = MenuSubDropdown;\nMenuSub.Item = MenuSubItem;\nexport { MenuSub };","map":{"version":3,"names":["defaultProps","offset","position","transitionProps","duration","MenuSub","_props","children","closeDelay","others","useProps","id","useId","opened","open","close","useDisclosure","ctx","useSubMenuContext","openDropdown","closeDropdown","useDelayedHover","openDelay","focusFirstItem","window","setTimeout","document","getElementById","querySelectorAll","focus","focusParentItem","jsx","SubMenuProvider","value","parentContext","Popover","withinPortal","extend","input","displayName","Target","MenuSubTarget","Dropdown","MenuSubDropdown","Item","MenuSubItem"],"sources":["/home/filken/dev/horti_clj/horti-ui/node_modules/@mantine/core/src/components/Menu/MenuSub/MenuSub.tsx"],"sourcesContent":["import { useDisclosure, useId } from '@mantine/hooks';\nimport { ExtendComponent, Factory, useProps } from '../../../core';\nimport { useDelayedHover } from '../../Floating';\nimport { __PopoverProps, Popover } from '../../Popover';\nimport { MenuSubDropdown } from '../MenuSubDropdown/MenuSubDropdown';\nimport { MenuSubItem } from '../MenuSubItem/MenuSubItem';\nimport { MenuSubTarget } from '../MenuSubTarget/MenuSubTarget';\nimport { SubMenuProvider, useSubMenuContext } from './MenuSub.context';\n\nexport type MenuSubFactory = Factory<{\n  props: MenuSubProps;\n}>;\n\ninterface MenuSubProps extends __PopoverProps {\n  children: React.ReactNode;\n\n  /** Close delay in ms */\n  closeDelay?: number;\n}\n\nconst defaultProps: Partial<MenuSubProps> = {\n  offset: 0,\n  position: 'right-start',\n  transitionProps: { duration: 0 },\n};\n\nexport function MenuSub(_props: MenuSubProps) {\n  const { children, closeDelay, ...others } = useProps('MenuSub', defaultProps, _props);\n  const id = useId();\n  const [opened, { open, close }] = useDisclosure(false);\n  const ctx = useSubMenuContext();\n\n  const { openDropdown, closeDropdown } = useDelayedHover({\n    open,\n    close,\n    closeDelay,\n    openDelay: 0,\n  });\n\n  const focusFirstItem = () =>\n    window.setTimeout(() => {\n      document\n        .getElementById(`${id}-dropdown`)\n        ?.querySelectorAll<HTMLButtonElement>('[data-menu-item]:not([data-disabled])')[0]\n        ?.focus();\n    }, 16);\n\n  const focusParentItem = () =>\n    window.setTimeout(() => {\n      document.getElementById(`${id}-target`)?.focus();\n    }, 16);\n\n  return (\n    <SubMenuProvider\n      value={{\n        opened,\n        close: closeDropdown,\n        open: openDropdown,\n        focusFirstItem,\n        focusParentItem,\n        parentContext: ctx,\n      }}\n    >\n      <Popover opened={opened} {...others} withinPortal={false} id={id}>\n        {children}\n      </Popover>\n    </SubMenuProvider>\n  );\n}\n\nMenuSub.extend = (input: ExtendComponent<MenuSubFactory>) => input;\nMenuSub.displayName = '@mantine/core/MenuSub';\nMenuSub.Target = MenuSubTarget;\nMenuSub.Dropdown = MenuSubDropdown;\nMenuSub.Item = MenuSubItem;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAoBA,MAAMA,YAAsC;EAC1CC,MAAQ;EACRC,QAAU;EACVC,eAAA,EAAiB;IAAEC,QAAA,EAAU;EAAE;AACjC;AAEO,SAASC,QAAQC,MAAsB;EACtC;IAAEC,QAAA;IAAUC,UAAY;IAAA,GAAGC;EAAW,IAAAC,QAAA,CAAS,SAAW,EAAAV,YAAA,EAAcM,MAAM;EACpF,MAAMK,EAAA,GAAKC,KAAM;EACX,OAACC,MAAA,EAAQ;IAAEC,IAAA;IAAMC;EAAA,CAAO,IAAIC,aAAA,CAAc,KAAK;EACrD,MAAMC,GAAA,GAAMC,iBAAkB;EAE9B,MAAM;IAAEC,YAAA;IAAcC;EAAc,IAAIC,eAAgB;IACtDP,IAAA;IACAC,KAAA;IACAP,UAAA;IACAc,SAAW;EAAA,CACZ;EAED,MAAMC,cAAiB,GAAAA,CAAA,KACrBC,MAAO,CAAAC,UAAA,CAAW,MAAM;IAEnBC,QAAA,CAAAC,cAAA,CAAe,GAAGhB,EAAE,WAAW,GAC9BiB,gBAAA,CAAoC,uCAAuC,EAAE,CAAC,GAC9EC,KAAM;EAAA,GACT,EAAE;EAEP,MAAMC,eAAkB,GAAAA,CAAA,KACtBN,MAAO,CAAAC,UAAA,CAAW,MAAM;IACtBC,QAAA,CAASC,cAAe,IAAGhB,EAAE,SAAS,GAAGkB,KAAM;EAAA,GAC9C,EAAE;EAGL,sBAAAE,GAAA,CAACC,eAAA;IACCC,KAAO;MACLpB,MAAA;MACAE,KAAO,EAAAK,aAAA;MACPN,IAAM,EAAAK,YAAA;MACNI,cAAA;MACAO,eAAA;MACAI,aAAe,EAAAjB;IACjB;IAEAV,QAAA,iBAAAwB,GAAA,CAACI,OAAA;MAAQtB,MAAiB;MAAA,GAAGJ,MAAA;MAAQ2B,YAAc;MAAOzB,EAAA;MACvDJ;IACH;EAAA,CACF;AAEJ;AAEAF,OAAQ,CAAAgC,MAAA,GAAUC,KAA2C,IAAAA,KAAA;AAC7DjC,OAAA,CAAQkC,WAAc;AACtBlC,OAAA,CAAQmC,MAAS,GAAAC,aAAA;AACjBpC,OAAA,CAAQqC,QAAW,GAAAC,eAAA;AACnBtC,OAAA,CAAQuC,IAAO,GAAAC,WAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}