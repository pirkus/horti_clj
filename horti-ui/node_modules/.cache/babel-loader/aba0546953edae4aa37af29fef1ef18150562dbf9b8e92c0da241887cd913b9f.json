{"ast":null,"code":"'use client';\n\nimport { jsx, Fragment } from 'react/jsx-runtime';\nimport { useState, useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useIsomorphicEffect, assignRef } from '@mantine/hooks';\nimport 'clsx';\nimport '../../core/MantineProvider/Mantine.context.mjs';\nimport '../../core/MantineProvider/default-theme.mjs';\nimport '../../core/MantineProvider/MantineProvider.mjs';\nimport '../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../core/Box/Box.mjs';\nimport { factory } from '../../core/factory/factory.mjs';\nimport '../../core/DirectionProvider/DirectionProvider.mjs';\nfunction createPortalNode(props) {\n  const node = document.createElement(\"div\");\n  node.setAttribute(\"data-portal\", \"true\");\n  typeof props.className === \"string\" && node.classList.add(...props.className.split(\" \").filter(Boolean));\n  typeof props.style === \"object\" && Object.assign(node.style, props.style);\n  typeof props.id === \"string\" && node.setAttribute(\"id\", props.id);\n  return node;\n}\nfunction getTargetNode({\n  target,\n  reuseTargetNode,\n  ...others\n}) {\n  if (target) {\n    if (typeof target === \"string\") {\n      return document.querySelector(target) || createPortalNode(others);\n    }\n    return target;\n  }\n  if (reuseTargetNode) {\n    const existingNode = document.querySelector(\"[data-mantine-shared-portal-node]\");\n    if (existingNode) {\n      return existingNode;\n    }\n    const node = createPortalNode(others);\n    node.setAttribute(\"data-mantine-shared-portal-node\", \"true\");\n    document.body.appendChild(node);\n    return node;\n  }\n  return createPortalNode(others);\n}\nconst defaultProps = {\n  reuseTargetNode: true\n};\nconst Portal = factory((props, ref) => {\n  const {\n    children,\n    target,\n    reuseTargetNode,\n    ...others\n  } = useProps(\"Portal\", defaultProps, props);\n  const [mounted, setMounted] = useState(false);\n  const nodeRef = useRef(null);\n  useIsomorphicEffect(() => {\n    setMounted(true);\n    nodeRef.current = getTargetNode({\n      target,\n      reuseTargetNode,\n      ...others\n    });\n    assignRef(ref, nodeRef.current);\n    if (!target && !reuseTargetNode && nodeRef.current) {\n      document.body.appendChild(nodeRef.current);\n    }\n    return () => {\n      if (!target && !reuseTargetNode && nodeRef.current) {\n        document.body.removeChild(nodeRef.current);\n      }\n    };\n  }, [target]);\n  if (!mounted || !nodeRef.current) {\n    return null;\n  }\n  return createPortal(/* @__PURE__ */jsx(Fragment, {\n    children\n  }), nodeRef.current);\n});\nPortal.displayName = \"@mantine/core/Portal\";\nexport { Portal };","map":{"version":3,"names":["createPortalNode","props","node","document","createElement","setAttribute","className","classList","add","split","filter","Boolean","style","Object","assign","id","getTargetNode","target","reuseTargetNode","others","querySelector","existingNode","body","appendChild","defaultProps","Portal","factory","ref","children","useProps","mounted","setMounted","useState","nodeRef","useRef","useIsomorphicEffect","current","assignRef","removeChild","createPortal","jsx","Fragment","displayName"],"sources":["/home/filken/dev/horti_clj/horti-ui/node_modules/@mantine/core/src/components/Portal/Portal.tsx"],"sourcesContent":["import { useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { assignRef, useIsomorphicEffect } from '@mantine/hooks';\nimport { Factory, factory, useProps } from '../../core';\n\nfunction createPortalNode(props: React.ComponentPropsWithoutRef<'div'>) {\n  const node = document.createElement('div');\n  node.setAttribute('data-portal', 'true');\n  typeof props.className === 'string' &&\n    node.classList.add(...props.className.split(' ').filter(Boolean));\n  typeof props.style === 'object' && Object.assign(node.style, props.style);\n  typeof props.id === 'string' && node.setAttribute('id', props.id);\n  return node;\n}\n\nexport interface PortalProps extends React.ComponentPropsWithoutRef<'div'> {\n  /** Portal children, for example, custom modal or popover */\n  children: React.ReactNode;\n\n  /** Element inside which portal should be created, by default a new div element is created and appended to the `document.body` */\n  target?: HTMLElement | string;\n\n  /** If set, all portals are rendered in the same DOM node, `true` by default */\n  reuseTargetNode?: boolean;\n}\n\nfunction getTargetNode({\n  target,\n  reuseTargetNode,\n  ...others\n}: Omit<PortalProps, 'children'>): HTMLElement {\n  if (target) {\n    if (typeof target === 'string') {\n      return document.querySelector<HTMLElement>(target) || createPortalNode(others);\n    }\n\n    return target;\n  }\n\n  if (reuseTargetNode) {\n    const existingNode = document.querySelector<HTMLElement>('[data-mantine-shared-portal-node]');\n\n    if (existingNode) {\n      return existingNode;\n    }\n\n    const node = createPortalNode(others);\n    node.setAttribute('data-mantine-shared-portal-node', 'true');\n    document.body.appendChild(node);\n    return node;\n  }\n\n  return createPortalNode(others);\n}\n\nexport type PortalFactory = Factory<{\n  props: PortalProps;\n  ref: HTMLDivElement;\n}>;\n\nconst defaultProps: Partial<PortalProps> = {\n  reuseTargetNode: true,\n};\n\nexport const Portal = factory<PortalFactory>((props, ref) => {\n  const { children, target, reuseTargetNode, ...others } = useProps('Portal', defaultProps, props);\n\n  const [mounted, setMounted] = useState(false);\n  const nodeRef = useRef<HTMLElement | null>(null);\n\n  useIsomorphicEffect(() => {\n    setMounted(true);\n    nodeRef.current = getTargetNode({ target, reuseTargetNode, ...others });\n    assignRef(ref, nodeRef.current);\n\n    if (!target && !reuseTargetNode && nodeRef.current) {\n      document.body.appendChild(nodeRef.current);\n    }\n\n    return () => {\n      if (!target && !reuseTargetNode && nodeRef.current) {\n        document.body.removeChild(nodeRef.current);\n      }\n    };\n  }, [target]);\n\n  if (!mounted || !nodeRef.current) {\n    return null;\n  }\n\n  return createPortal(<>{children}</>, nodeRef.current);\n});\n\nPortal.displayName = '@mantine/core/Portal';\n"],"mappings":";;;;;;;;;;;;;;;;AAKA,SAASA,iBAAiBC,KAA8C;EAChE,MAAAC,IAAA,GAAOC,QAAS,CAAAC,aAAA,CAAc,KAAK;EACpCF,IAAA,CAAAG,YAAA,CAAa,eAAe,MAAM;EACvC,OAAOJ,KAAM,CAAAK,SAAA,KAAc,QACzB,IAAAJ,IAAA,CAAKK,SAAA,CAAUC,GAAI,IAAGP,KAAM,CAAAK,SAAA,CAAUG,KAAM,IAAG,CAAE,CAAAC,MAAA,CAAOC,OAAO,CAAC;EAC3D,OAAAV,KAAA,CAAMW,KAAA,KAAU,QAAY,IAAAC,MAAA,CAAOC,MAAA,CAAOZ,IAAK,CAAAU,KAAA,EAAOX,KAAA,CAAMW,KAAK;EACxE,OAAOX,KAAA,CAAMc,EAAO,iBAAYb,IAAA,CAAKG,YAAa,OAAMJ,KAAA,CAAMc,EAAE;EACzD,OAAAb,IAAA;AACT;AAaA,SAASc,aAAcA,CAAA;EACrBC,MAAA;EACAC,eAAA;EACA,GAAGC;AACL,CAA+C;EAC7C,IAAIF,MAAQ;IACN,WAAOA,MAAA,KAAW,QAAU;MAC9B,OAAOd,QAAS,CAAAiB,aAAA,CAA2BH,MAAM,KAAKjB,gBAAA,CAAiBmB,MAAM;IAAA;IAGxE,OAAAF,MAAA;EAAA;EAGT,IAAIC,eAAiB;IACb,MAAAG,YAAA,GAAelB,QAAS,CAAAiB,aAAA,CAA2B,mCAAmC;IAE5F,IAAIC,YAAc;MACT,OAAAA,YAAA;IAAA;IAGH,MAAAnB,IAAA,GAAOF,gBAAA,CAAiBmB,MAAM;IAC/BjB,IAAA,CAAAG,YAAA,CAAa,mCAAmC,MAAM;IAClDF,QAAA,CAAAmB,IAAA,CAAKC,WAAA,CAAYrB,IAAI;IACvB,OAAAA,IAAA;EAAA;EAGT,OAAOF,gBAAA,CAAiBmB,MAAM;AAChC;AAOA,MAAMK,YAAqC;EACzCN,eAAiB;AACnB;AAEO,MAAMO,MAAS,GAAAC,OAAA,CAAuB,CAACzB,KAAA,EAAO0B,GAAQ;EACrD;IAAEC,QAAU;IAAAX,MAAA;IAAQC,eAAiB;IAAA,GAAGC;EAAW,IAAAU,QAAA,CAAS,QAAU,EAAAL,YAAA,EAAcvB,KAAK;EAE/F,MAAM,CAAC6B,OAAA,EAASC,UAAU,IAAIC,QAAA,CAAS,KAAK;EACtC,MAAAC,OAAA,GAAUC,MAAA,CAA2B,IAAI;EAE/CC,mBAAA,CAAoB,MAAM;IACxBJ,UAAA,CAAW,IAAI;IACfE,OAAA,CAAQG,OAAA,GAAUpB,aAAc;MAAEC,MAAA;MAAQC,eAAiB;MAAA,GAAGC;IAAA,CAAQ;IAC5DkB,SAAA,CAAAV,GAAA,EAAKM,OAAA,CAAQG,OAAO;IAE9B,IAAI,CAACnB,MAAA,IAAU,CAACC,eAAA,IAAmBe,OAAA,CAAQG,OAAS;MACzCjC,QAAA,CAAAmB,IAAA,CAAKC,WAAY,CAAAU,OAAA,CAAQG,OAAO;IAAA;IAG3C,OAAO,MAAM;MACX,IAAI,CAACnB,MAAA,IAAU,CAACC,eAAA,IAAmBe,OAAA,CAAQG,OAAS;QACzCjC,QAAA,CAAAmB,IAAA,CAAKgB,WAAY,CAAAL,OAAA,CAAQG,OAAO;MAAA;IAE7C;EAAA,CACF,EAAG,CAACnB,MAAM,CAAC;EAEX,IAAI,CAACa,OAAA,IAAW,CAACG,OAAA,CAAQG,OAAS;IACzB;EAAA;EAGT,OAAOG,YAAa,gBAAAC,GAAA,CAAAC,QAAA;IAAGb;EAAS,IAAKK,OAAA,CAAQG,OAAO;AACtD,CAAC;AAEDX,MAAA,CAAOiB,WAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}