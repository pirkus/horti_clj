{"ast":null,"code":"'use client';\n\nimport { useRef, useState, useMemo, useEffect } from 'react';\nconst defaultState = {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n  top: 0,\n  left: 0,\n  bottom: 0,\n  right: 0\n};\nfunction useResizeObserver(options) {\n  const frameID = useRef(0);\n  const ref = useRef(null);\n  const [rect, setRect] = useState(defaultState);\n  const observer = useMemo(() => typeof window !== \"undefined\" ? new ResizeObserver(entries => {\n    const entry = entries[0];\n    if (entry) {\n      cancelAnimationFrame(frameID.current);\n      frameID.current = requestAnimationFrame(() => {\n        if (ref.current) {\n          const boxSize = entry.borderBoxSize?.[0] || entry.contentBoxSize?.[0];\n          if (boxSize) {\n            const width = boxSize.inlineSize;\n            const height = boxSize.blockSize;\n            setRect({\n              width,\n              height,\n              x: entry.contentRect.x,\n              y: entry.contentRect.y,\n              top: entry.contentRect.top,\n              left: entry.contentRect.left,\n              bottom: entry.contentRect.bottom,\n              right: entry.contentRect.right\n            });\n          } else {\n            setRect(entry.contentRect);\n          }\n        }\n      });\n    }\n  }) : null, []);\n  useEffect(() => {\n    if (ref.current) {\n      observer?.observe(ref.current, options);\n    }\n    return () => {\n      observer?.disconnect();\n      if (frameID.current) {\n        cancelAnimationFrame(frameID.current);\n      }\n    };\n  }, [ref.current]);\n  return [ref, rect];\n}\nfunction useElementSize(options) {\n  const [ref, {\n    width,\n    height\n  }] = useResizeObserver(options);\n  return {\n    ref,\n    width,\n    height\n  };\n}\nexport { useElementSize, useResizeObserver };","map":{"version":3,"names":["defaultState","x","y","width","height","top","left","bottom","right","useResizeObserver","options","frameID","useRef","ref","rect","setRect","useState","observer","useMemo","window","ResizeObserver","entries","entry","cancelAnimationFrame","current","requestAnimationFrame","boxSize","borderBoxSize","contentBoxSize","inlineSize","blockSize","contentRect","useEffect","observe","disconnect","useElementSize"],"sources":["/home/filken/dev/horti_clj/horti-ui/node_modules/@mantine/hooks/src/use-resize-observer/use-resize-observer.ts"],"sourcesContent":["import { useEffect, useMemo, useRef, useState } from 'react';\n\ntype ObserverRect = Omit<DOMRectReadOnly, 'toJSON'>;\n\nconst defaultState: ObserverRect = {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n  top: 0,\n  left: 0,\n  bottom: 0,\n  right: 0,\n};\n\nexport function useResizeObserver<T extends HTMLElement = any>(options?: ResizeObserverOptions) {\n  const frameID = useRef(0);\n  const ref = useRef<T>(null);\n\n  const [rect, setRect] = useState<ObserverRect>(defaultState);\n\n  const observer = useMemo(\n    () =>\n      typeof window !== 'undefined'\n        ? new ResizeObserver((entries) => {\n            const entry = entries[0];\n\n            if (entry) {\n              cancelAnimationFrame(frameID.current);\n\n              frameID.current = requestAnimationFrame(() => {\n                if (ref.current) {\n                  const boxSize = entry.borderBoxSize?.[0] || entry.contentBoxSize?.[0];\n                  if (boxSize) {\n                    const width = boxSize.inlineSize;\n                    const height = boxSize.blockSize;\n\n                    setRect({\n                      width,\n                      height,\n                      x: entry.contentRect.x,\n                      y: entry.contentRect.y,\n                      top: entry.contentRect.top,\n                      left: entry.contentRect.left,\n                      bottom: entry.contentRect.bottom,\n                      right: entry.contentRect.right,\n                    });\n                  } else {\n                    setRect(entry.contentRect);\n                  }\n                }\n              });\n            }\n          })\n        : null,\n    []\n  );\n\n  useEffect(() => {\n    if (ref.current) {\n      observer?.observe(ref.current, options);\n    }\n\n    return () => {\n      observer?.disconnect();\n\n      if (frameID.current) {\n        cancelAnimationFrame(frameID.current);\n      }\n    };\n  }, [ref.current]);\n\n  return [ref, rect] as const;\n}\n\nexport function useElementSize<T extends HTMLElement = any>(options?: ResizeObserverOptions) {\n  const [ref, { width, height }] = useResizeObserver<T>(options);\n  return { ref, width, height };\n}\n"],"mappings":";;;AAIA,MAAMA,YAA6B;EACjCC,CAAG;EACHC,CAAG;EACHC,KAAO;EACPC,MAAQ;EACRC,GAAK;EACLC,IAAM;EACNC,MAAQ;EACRC,KAAO;AACT;AAEO,SAASC,kBAA+CC,OAAiC;EACxF,MAAAC,OAAA,GAAUC,MAAA,CAAO,CAAC;EAClB,MAAAC,GAAA,GAAMD,MAAA,CAAU,IAAI;EAE1B,MAAM,CAACE,IAAA,EAAMC,OAAO,IAAIC,QAAA,CAAuBhB,YAAY;EAE3D,MAAMiB,QAAW,GAAAC,OAAA,CACf,MACE,OAAOC,MAAA,KAAW,cACd,IAAIC,cAAA,CAAgBC,OAAY;IACxB,MAAAC,KAAA,GAAQD,OAAA,CAAQ,CAAC;IAEvB,IAAIC,KAAO;MACTC,oBAAA,CAAqBZ,OAAA,CAAQa,OAAO;MAE5Bb,OAAA,CAAAa,OAAA,GAAUC,qBAAA,CAAsB,MAAM;QAC5C,IAAIZ,GAAA,CAAIW,OAAS;UACf,MAAME,OAAA,GAAUJ,KAAM,CAAAK,aAAA,GAAgB,CAAC,CAAK,IAAAL,KAAA,CAAMM,cAAA,GAAiB,CAAC;UACpE,IAAIF,OAAS;YACX,MAAMvB,KAAA,GAAQuB,OAAQ,CAAAG,UAAA;YACtB,MAAMzB,MAAA,GAASsB,OAAQ,CAAAI,SAAA;YAEff,OAAA;cACNZ,KAAA;cACAC,MAAA;cACAH,CAAA,EAAGqB,KAAA,CAAMS,WAAY,CAAA9B,CAAA;cACrBC,CAAA,EAAGoB,KAAA,CAAMS,WAAY,CAAA7B,CAAA;cACrBG,GAAA,EAAKiB,KAAA,CAAMS,WAAY,CAAA1B,GAAA;cACvBC,IAAA,EAAMgB,KAAA,CAAMS,WAAY,CAAAzB,IAAA;cACxBC,MAAA,EAAQe,KAAA,CAAMS,WAAY,CAAAxB,MAAA;cAC1BC,KAAA,EAAOc,KAAA,CAAMS,WAAY,CAAAvB;YAAA,CAC1B;UAAA,CACI;YACLO,OAAA,CAAQO,KAAA,CAAMS,WAAW;UAAA;QAC3B;MACF,CACD;IAAA;EAEJ,EACD,SACN,EACF;EAEAC,SAAA,CAAU,MAAM;IACd,IAAInB,GAAA,CAAIW,OAAS;MACLP,QAAA,EAAAgB,OAAA,CAAQpB,GAAI,CAAAW,OAAA,EAASd,OAAO;IAAA;IAGxC,OAAO,MAAM;MACXO,QAAA,EAAUiB,UAAW;MAErB,IAAIvB,OAAA,CAAQa,OAAS;QACnBD,oBAAA,CAAqBZ,OAAA,CAAQa,OAAO;MAAA;IAExC;EAAA,CACC,GAACX,GAAI,CAAAW,OAAO,CAAC;EAET,QAACX,GAAA,EAAKC,IAAI;AACnB;AAEO,SAASqB,eAA4CzB,OAAiC;EACrF,OAACG,GAAA,EAAK;IAAEV,KAAA;IAAOC;EAAA,CAAQ,IAAIK,iBAAA,CAAqBC,OAAO;EACtD;IAAEG,GAAK;IAAAV,KAAA;IAAOC;EAAO;AAC9B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}