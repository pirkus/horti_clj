{"ast":null,"code":"'use client';\n\nimport { useRef, useCallback, useEffect } from 'react';\nimport { useCallbackRef } from '../use-callback-ref/use-callback-ref.mjs';\nfunction useDebouncedCallback(callback, options) {\n  const delay = typeof options === \"number\" ? options : options.delay;\n  const flushOnUnmount = typeof options === \"number\" ? false : options.flushOnUnmount;\n  const leading = typeof options === \"number\" ? false : options.leading;\n  const handleCallback = useCallbackRef(callback);\n  const debounceTimerRef = useRef(0);\n  const flushRef = useRef(() => {});\n  const leadingRef = useRef(leading);\n  const lastCallback = Object.assign(useCallback((...args) => {\n    window.clearTimeout(debounceTimerRef.current);\n    if (leading && leadingRef.current) {\n      leadingRef.current = false;\n      handleCallback(...args);\n      return;\n    }\n    const flush = () => {\n      if (debounceTimerRef.current !== 0) {\n        debounceTimerRef.current = 0;\n        leadingRef.current = true;\n        handleCallback(...args);\n      }\n    };\n    flushRef.current = flush;\n    lastCallback.flush = flush;\n    debounceTimerRef.current = window.setTimeout(flush, delay);\n    leadingRef.current = false;\n  }, [handleCallback, delay, leading]), {\n    flush: flushRef.current\n  });\n  useEffect(() => () => {\n    window.clearTimeout(debounceTimerRef.current);\n    if (flushOnUnmount) {\n      lastCallback.flush();\n    }\n  }, [lastCallback, flushOnUnmount]);\n  return lastCallback;\n}\nexport { useDebouncedCallback };","map":{"version":3,"names":["useDebouncedCallback","callback","options","delay","flushOnUnmount","leading","handleCallback","useCallbackRef","debounceTimerRef","useRef","flushRef","leadingRef","lastCallback","Object","assign","useCallback","args","window","clearTimeout","current","flush","setTimeout","useEffect"],"sources":["/home/filken/dev/horti_clj/horti-ui/node_modules/@mantine/hooks/src/use-debounced-callback/use-debounced-callback.ts"],"sourcesContent":["import { useCallback, useEffect, useRef } from 'react';\nimport { useCallbackRef } from '../use-callback-ref/use-callback-ref';\n\nexport function useDebouncedCallback<T extends (...args: any[]) => any>(\n  callback: T,\n  options: number | { delay: number; flushOnUnmount?: boolean; leading?: boolean }\n) {\n  const delay = typeof options === 'number' ? options : options.delay;\n  const flushOnUnmount = typeof options === 'number' ? false : options.flushOnUnmount;\n  const leading = typeof options === 'number' ? false : options.leading;\n\n  const handleCallback = useCallbackRef(callback);\n  const debounceTimerRef = useRef(0);\n  const flushRef = useRef(() => {});\n  const leadingRef = useRef(leading);\n\n  const lastCallback = Object.assign(\n    useCallback(\n      (...args: Parameters<T>) => {\n        window.clearTimeout(debounceTimerRef.current);\n\n        if (leading && leadingRef.current) {\n          leadingRef.current = false;\n          handleCallback(...args);\n          return;\n        }\n\n        const flush = () => {\n          if (debounceTimerRef.current !== 0) {\n            debounceTimerRef.current = 0;\n            leadingRef.current = true;\n            handleCallback(...args);\n          }\n        };\n\n        flushRef.current = flush;\n        lastCallback.flush = flush;\n        debounceTimerRef.current = window.setTimeout(flush, delay);\n        leadingRef.current = false;\n      },\n      [handleCallback, delay, leading]\n    ),\n    { flush: flushRef.current }\n  );\n\n  useEffect(\n    () => () => {\n      window.clearTimeout(debounceTimerRef.current);\n      if (flushOnUnmount) {\n        lastCallback.flush();\n      }\n    },\n    [lastCallback, flushOnUnmount]\n  );\n\n  return lastCallback;\n}\n"],"mappings":";;;;AAGgB,SAAAA,qBACdC,QAAA,EACAC,OACA;EACA,MAAMC,KAAQ,UAAOD,OAAY,gBAAWA,OAAA,GAAUA,OAAQ,CAAAC,KAAA;EAC9D,MAAMC,cAAiB,UAAOF,OAAY,gBAAW,QAAQA,OAAQ,CAAAE,cAAA;EACrE,MAAMC,OAAU,UAAOH,OAAY,gBAAW,QAAQA,OAAQ,CAAAG,OAAA;EAExD,MAAAC,cAAA,GAAiBC,cAAA,CAAeN,QAAQ;EACxC,MAAAO,gBAAA,GAAmBC,MAAA,CAAO,CAAC;EAC3B,MAAAC,QAAA,GAAWD,MAAA,CAAO,MAAM,EAAE;EAC1B,MAAAE,UAAA,GAAaF,MAAA,CAAOJ,OAAO;EAEjC,MAAMO,YAAA,GAAeC,MAAO,CAAAC,MAAA,CAC1BC,WAAA,CACE,IAAIC,IAAwB;IACnBC,MAAA,CAAAC,YAAA,CAAaV,gBAAA,CAAiBW,OAAO;IAExC,IAAAd,OAAA,IAAWM,UAAA,CAAWQ,OAAS;MACjCR,UAAA,CAAWQ,OAAU;MACrBb,cAAA,CAAe,GAAGU,IAAI;MACtB;IAAA;IAGF,MAAMI,KAAA,GAAQA,CAAA,KAAM;MACd,IAAAZ,gBAAA,CAAiBW,OAAA,KAAY,CAAG;QAClCX,gBAAA,CAAiBW,OAAU;QAC3BR,UAAA,CAAWQ,OAAU;QACrBb,cAAA,CAAe,GAAGU,IAAI;MAAA;IAE1B;IAEAN,QAAA,CAASS,OAAU,GAAAC,KAAA;IACnBR,YAAA,CAAaQ,KAAQ,GAAAA,KAAA;IACrBZ,gBAAA,CAAiBW,OAAU,GAAAF,MAAA,CAAOI,UAAW,CAAAD,KAAA,EAAOjB,KAAK;IACzDQ,UAAA,CAAWQ,OAAU;EACvB,GACA,CAACb,cAAgB,EAAAH,KAAA,EAAOE,OAAO,CACjC,GACA;IAAEe,KAAO,EAAAV,QAAA,CAASS;EAAQ,CAC5B;EAEAG,SAAA,CACE,MAAM,MAAM;IACHL,MAAA,CAAAC,YAAA,CAAaV,gBAAA,CAAiBW,OAAO;IAC5C,IAAIf,cAAgB;MAClBQ,YAAA,CAAaQ,KAAM;IAAA;EAEvB,GACA,CAACR,YAAA,EAAcR,cAAc,CAC/B;EAEO,OAAAQ,YAAA;AACT","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}